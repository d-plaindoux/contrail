<?xml version='1.0'?>
<ecosystem>
	<transducer name='PayLoad'
		factory='org.wolfgang.contrail.codec.payload.PayLoadTransducerFactory' />

	<transducer name='Serialize'
		factory='org.wolfgang.contrail.codec.serializer.SerializerTransducerFactory' />

	<transducer name='Coercion'
		factory='org.wolfgang.contrail.codec.coercion.CoercionTransducerFactory'>
		<param> org.wolfgang.contrail.network.event.NetEvent </param>
	</transducer>

	<transducer name='JAXB'
		factory='org.wolfgang.contrail.codec.json.JAXBTransducerFactory'>
		<param> org.wolfgang.contrail.network.event.NetEvent </param>
	</transducer>

	<terminal name='Logger' factory='org.wolfgang.contrail.bound.LoggerComponent' />

	<router name='NetStation '
		factory='org.wolfgang.contrail.network.component.NetworkFactory'>
		<self name='A.A' />

		<client name='A.B' filter='A.*' endpoint='tcp://localhost:6666'>
			<!-- Net Socket Client -->
			<flow> PayLoad Serialize Coercion NetStation </flow>
		</client>

		<client name='A.C' filter='A.*' endpoint='ws://localhost:6668'>
			<!-- Web Socket Client -->
			<flow> JAXB Coercion NetStation </flow>
		</client>
	</router>

	<entry name='NetHook'>
		<flow> PayLoad Serialize Coercion NetStation </flow>
	</entry>

	<entry name='WebHook' typein="String" typeout="String">
		<flow> JAXB Coercion NetStation </flow>
	</entry>

	<server endpoint='tcp://localhost:6667'>
		<flow> PayLoad Serialize Coercion NetStation </flow>
	</server>

	<server endpoint='ws://localhost:6667'>
		<flow> JAXB Coercion NetStation </flow>
	</server>

	<flow> NetStation Logger </flow>
</ecosystem>
