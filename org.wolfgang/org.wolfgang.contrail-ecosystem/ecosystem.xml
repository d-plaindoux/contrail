<?xml version='1.0'?>
<ecosystem>
	<transducer name='PayLoad'
		factory='org.wolfgang.contrail.codec.payload.PayLoadTransducerFactory' />

	<transducer name='Serialize'
		factory='org.wolfgang.contrail.codec.serializer.SerializerTransducerFactory' />

	<transducer name='Coercion'
		factory='org.wolfgang.contrail.codec.coercion.CoercionTransducerFactory'>
		<param>NetEvent</param>
	</transducer>

	<component name='Logger' factory='org.wolfgang.contrail.bound.LoggerComponent' />

	<router name='NetworkRoute'
		factory='org.wolfgang.contrail.network.component.NetworkFactory'
		singleton='yes'>
		<entry name='A.A'>
			<flow>Logger</flow>
		</entry>

		<client name='A.B' filter='A.*' endpoint='tcp://localhost:6666'>
			<!-- Net Socket Client -->
			<flow>PayLoad Serialize Coercion NetworkRoute</flow>
		</client>

		<client name='A.C' filter='A.*' endpoint='ws://localhost:6668'>
			<!-- Web Socket Client -->
			<flow>JSon Coercion NetworkRoute</flow>
		</client>
	</router>

	<hook name=NetHook '>
		<flow>PayLoad Serialize Coercion NetworkRoute</flow>
	</hook>

	<hook name=WebHook '>
		<flow>JSon Coercion NetworkRoute</flow>
	</hook>

	<server endpoint='tcp://localhost:6667'>
		<flow>PayLoad Serialize Coercion NetworkRoute</flow>
	</server>
	<server endpoint='ws://localhost:6667'>
		<flow>JSon Coercion NetworkRoute</flow>
	</server>
</ecosystem>
