<?xml version='1.0'?>
<ecosystem>
	<define name="native">
		<function>
			<var>object</var>
			<var>method</var>
			<var>arity</var>
			<ref>external</ref>
		</function>
	</define>

	<define name="echo">
		<apply>
			<apply>
				<apply>
					<ref>native</ref>
					<atom>org.wolfgang.contrail.ecosystem.lang.Echo</atom>
				</apply>
				<atom>echo</atom>
			</apply>
			<atom>0</atom>
		</apply>
	</define>

	<define name="coercion">
		<function>
			<var>type</var>
			<ref>coerce</ref>
		</function>
	</define>

	<define name='parallel'>
		<function>
			<var>flow</var>
			<ref>parallelSource</ref>
			<ref>flow</ref>
			<ref>parallelDestination</ref>
		</function>
	</define>

	<define name='Main'>
		<ref>payload</ref>
		<apply>
			<ref>parallel</ref>
			<ref>object</ref>
		</apply>
		<apply>
			<ref>coercion</ref>
			<atom>java.lang.String</atom>
		</apply>
		<ref>echo</ref>
	</define>

</ecosystem>
