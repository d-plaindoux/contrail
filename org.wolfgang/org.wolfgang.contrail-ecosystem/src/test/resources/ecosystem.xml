<?xml version='1.0'?>
<ecosystem>
	<pipeline name='PayLoad'
		factory='org.wolfgang.contrail.codec.payload.PayLoadTransducerFactory' />

	<pipeline name='Serialize'
		factory='org.wolfgang.contrail.codec.serializer.SerializerTransducerFactory' />

	<pipeline name='Coercion'
		factory='org.wolfgang.contrail.codec.coercion.CoercionTransducerFactory'>
		<param> org.wolfgang.contrail.network.event.NetEvent </param>
	</pipeline>

	<pipeline name='JAXB'
		factory='org.wolfgang.contrail.codec.json.JAXBTransducerFactory'>
		<param> org.wolfgang.contrail.network.event.NetEvent </param>
	</pipeline>

	<pipeline name='ClientConnector'
		factory='org.wolfgang.contrail.network.component.NetworkAcceptanceComponent' />

	<pipeline name='Parallel'
		factory='org.wolfgang.contrail.component.pipeline.concurrent.ConcurrentComponent' />

	<terminal name='Logger' factory='org.wolfgang.contrail.bound.LoggerComponent' />

	<router name='NetStation'
		factory='org.wolfgang.contrail.network.component.NetworkComponent'>
		<self name='A.A' />

		<client name='A.B' filter='A.*' endpoint='tcp://localhost:6666'>
			<!-- Net Socket Client -->
			<flow> PayLoad Serialize Parallel Coercion ClientConnector NS </flow>
		</client>

		<client name='A.C' filter='A.*' endpoint='ws://localhost:6668'>
			<!-- Web Socket Client -->
			<flow> JAXB Parallel Coercion ClientConnector NS </flow>
		</client>
	</router>

	<binder name='NetHook'>
		<flow> PayLoad Serialize Coercion ClientConnector NS </flow>
	</binder>

	<binder name='WebHook' typein="String" typeout="String">
		<flow> JAXB Parallel Coercion ClientConnector NS </flow>
	</binder>

	<server endpoint='tcp://localhost:6667'>
		<flow> PayLoad Serialize Coercion ClientConnector NS </flow>
	</server>

	<server endpoint='ws://localhost:6667'>
		<flow> JAXB Parallel Coercion ClientConnector NS </flow>
	</server>

	<flow> NS=NetStation Logger </flow>
</ecosystem>
