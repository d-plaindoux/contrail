<?xml version='1.0'?>
<ecosystem>
	<import>
		org.wolfgang.contrail.connection.net.NetServer
	</import>

	<import as='Echo'>
		org.wolfgang.contrail.network.ecosystem.EchoComponent
	</import>

	<import as='ServerHandler'>
		org.wolfgang.contrail.component.bound.gateway.ServerComponent
	</import>

	<define name='Server'>
		<function>
			<var>uri</var>
			<var>flow</var>
			<ref>ServerHandler</ref>
		</function>
	</define>

	<start>
		<ref>Server</ref>
		<atom>tcp://localhost:6666</atom>
		<function>
			<var>initial</var>
			<apply>
				<ref>initial</ref>
				<ref>Echo</ref>
			</apply>
		</function>
	</start>
</ecosystem>
