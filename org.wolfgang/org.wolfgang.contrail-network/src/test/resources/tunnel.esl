/**
 * Tunnel example
 */

import org.wolfgang.contrail.connection.net.NetClient;
import org.wolfgang.contrail.connection.net.NetServer;

// ----------------------------------------------------------------------

var Logger = fun () -> LogSrc <> LogDst;
var Client = fun uri -> Logger () <> native client uri;
var Server = fun uri flow -> native server uri flow;
var Tunnel = fun in out -> Server in (fun client ->  client <> Client out):

// ----------------------------------------------------------------------

Tunnel "http://localhost:6666" "http://localhost:6667"
