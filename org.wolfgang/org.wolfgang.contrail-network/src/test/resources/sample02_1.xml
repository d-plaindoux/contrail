<?xml version='1.0'?>
<ecosystem>
	<import>
		org.wolfgang.contrail.connection.net.NetClient
	</import>
	<import>
		org.wolfgang.contrail.component.connection.ClientComponent
	</import>
	<import>
		org.wolfgang.contrail.component.pipeline.transducer.coercion.CoercionTransducerFactory
	</import>
	<import>
		org.wolfgang.contrail.component.pipeline.transducer.payload.PayLoadTransducerFactory
	</import>
	<import>
		org.wolfgang.contrail.component.pipeline.transducer.serializer.SerializationTransducerFactory
	</import>

	<define name="Coercion">
		<function>
			<var>type</var>
			<ref>CoercionTransducerFactory</ref>
		</function>
	</define>

	<define name='Client'>
		<function>
			<var>uri</var>
			<ref>ClientComponent</ref>
		</function>
	</define>

	<define name='Main'>
		<function>
			<var>client</var>
			<ref>client</ref>
			<appy>
				<ref>reverse</ref>
				<flow>
					<ref>PayLoadTransducerFactory</ref>
					<ref>SerializationTransducerFactory</ref>
				</flow>
			</appy>
			<apply>
				<ref>Coercion</ref>
				<atom>java.lang.String</atom>
			</apply>
			<apply>
				<ref>Client</ref>
				<atom>tcp://localhost:6666</atom>
			</apply>
		</function>
	</define>
</ecosystem>
