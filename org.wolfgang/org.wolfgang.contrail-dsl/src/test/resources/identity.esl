import org.wolfgang.contrail.ecosystem.EchoComponent;

def nop = fun e -> e;
def print = fun e -> nop.println e;
def Pipeline = fun upstream downstream ->pipeline;
def Identity = fun () ->  Pipeline (fun e -> { print e ; e; } ) (fun e -> e);
def Main = fun b ->  b <> Identity () <> echo;
