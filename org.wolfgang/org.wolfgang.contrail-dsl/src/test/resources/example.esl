import http://www.contrail-network.org/imports/core.jar
import http://www.contrail-network.org/imports/network.jar
import http://www.contrail-network.org/imports/netty.jar

var payLoad = function(){
	component org.wolfgang.contrail.component.pipeline.transducer.PayLoad;
}

var clientFlow = function(uri){
	var flow = payLoad() <> serialize() <> coerce(Event);
	reverse(flow) <> client(uri);   
}

var serverFlow = function(uri){
	var flow = function(client){ 
		client <> ( Jaxb() | PayLoad() <> Serialize() ) <> coerce(Event) 
	};
	server(uri,flow) <> adminServer;	
}


