import http://www.contrail-network.org/imports/core.jar
import http://www.contrail-network.org/imports/network.jar
import http://www.contrail-network.org/imports/netty.jar

var payLoad = () -> 
	component org.wolfgang.contrail.component.pipeline.transducer.PayLoad

var clientFlow = (uri) ->
	reverse(payLoad() <> serialize() <> coerce(Event)) <> client(uri);   

var serverFlow = (uri) -> {
	flow = (client) -> 
		client <> [ Jaxb() | PayLoad() <> Serialize() ] <> coerce(Event);
			
	server(uri,flow) <> adminServer;	
}


